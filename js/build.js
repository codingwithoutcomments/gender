/*!
 * jQuery Cookie Plugin
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function(a){a.cookie=function(b,c,d){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(c))||c===null||c===undefined)){d=a.extend({},d);if(c===null||c===undefined)d.expires=-1;if(typeof d.expires=="number"){var e=d.expires,f=d.expires=new Date;f.setDate(f.getDate()+e)}return c=String(c),document.cookie=[encodeURIComponent(b),"=",d.raw?c:encodeURIComponent(c),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}d=c||{};var g=d.raw?function(a){return a}:decodeURIComponent,h=document.cookie.split("; ");for(var i=0,j;j=h[i]&&h[i].split("=");i++)if(g(j[0])===b)return g(j[1]||"");return null}})(jQuery),String.prototype.rightChars=function(a){return a<=0?"":a>this.length?this:this.substring(this.length,this.length-a)},function(a){var b={highlightSpeed:20,typeSpeed:100,clearDelay:500,typeDelay:200,clearOnHighlight:!0,typerDataAttr:"data-typer-targets",typerInterval:2e3},c,d,e,f,g,h,i,j,k,l,m,n,o;g=function(b,c){return b==="rgba(0, 0, 0, 0)"&&(b="rgb(255, 255, 255)"),a("<span></span>").css("color",b).css("background-color",c)},k=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},j=function(a){a.data("typePosition",null).data("highlightPosition",null).data("leftStop",null).data("rightStop",null).data("primaryColor",null).data("backgroundColor",null).data("text",null).data("typing",null)},f=function(a){var b=a.data("text"),c=a.data("oldLeft"),d=a.data("oldRight");if(!b||b.length===0){j(a);return}a.text(c+b.charAt(0)+d),a.data("oldLeft",c+b.charAt(0)),a.data("text",b.substring(1)),setTimeout(function(){f(a)},n())},d=function(a){a.find("span").remove(),setTimeout(function(){f(a)},i())},c=function(a){var b=a.data("highlightPosition"),e,f,i;k(b)||(b=a.data("rightStop")+1);if(b<=a.data("leftStop")){setTimeout(function(){d(a)},h());return}e=a.text().substring(0,b-1),f=a.text().substring(b-1,a.data("rightStop")+1),i=a.text().substring(a.data("rightStop")+1),a.html(e),a.append(g(a.data("backgroundColor"),a.data("primaryColor")).append(f)).append(i),a.data("highlightPosition",b-1),setTimeout(function(){return c(a)},m())},l=function(b){var c;if(b.data("typing"))return;try{c=JSON.parse(b.attr(a.typer.options.typerDataAttr)).targets}catch(d){}typeof c=="undefined"&&(c=a.map(b.attr(a.typer.options.typerDataAttr).split(","),function(b){return a.trim(b)})),b.typeTo(c[Math.floor(Math.random()*c.length)])},a.typer=function(){return{options:b}}(),a.extend(a.typer,{options:b}),a.fn.typer=function(){var b=a(this);b=b.filter(function(){return typeof a(this).attr(a.typer.options.typerDataAttr)!="undefined"}),b.each(function(){var b=a(this);l(b),setInterval(function(){l(b)},o())})},a.fn.typeTo=function(b){var d=a(this),e=d.text(),f=0,g=0;if(e===b)return;if(e!==d.html())return;d.data("typing",!0);while(e.charAt(f)===b.charAt(f))f++;while(e.rightChars(g)===b.rightChars(g))g++;b=b.substring(f,b.length-g+1),d.data("oldLeft",e.substring(0,f)),d.data("oldRight",e.rightChars(g-1)),d.data("leftStop",f),d.data("rightStop",e.length-g),d.data("primaryColor",d.css("color")),d.data("backgroundColor",d.css("background-color")),d.data("text",b),c(d)},m=function(){return a.typer.options.highlightSpeed},n=function(){return a.typer.options.typeSpeed},h=function(){return a.typer.options.clearDelay},i=function(){return a.typer.options.typeDelay},o=function(){return a.typer.options.typerInterval}}(jQuery),function(a){a.fn.dfilter=function(b,c){return b=b.toLowerCase(),b=b.replace(/^data-/,""),b=b.replace("_","-"),b=b.replace(" ","-"),typeof c=="undefined"||c===""?this.filter("[data-"+b+"]"):typeof c=="boolean"?c?this.filter("[data-"+b+"]"):this.not("[data-"+b+"]"):a.isArray(c)?this.filter("[data-"+b+'="'+c.join('"],[data-'+b+'="')+'"]'):this.filter("[data-"+b+'="'+c+'"]')}}(jQuery),function(a){function f(a){return a.replace(/(:|\.)/g,"\\$1")}var b="@VERSION",c={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2},d=function(b){var c=[],d=!1,e=b.dir&&b.dir=="left"?"scrollLeft":"scrollTop";return this.each(function(){if(this==document||this==window)return;var b=a(this);b[e]()>0?c.push(this):(b[e](1),d=b[e]()>0,d&&c.push(this),b[e](0))}),c.length||this.each(function(a){this.nodeName==="BODY"&&(c=[this])}),b.el==="first"&&c.length>1&&(c=[c[0]]),c},e="ontouchend"in document;a.fn.extend({scrollable:function(a){var b=d.call(this,{dir:a});return this.pushStack(b)},firstScrollable:function(a){var b=d.call(this,{el:"first",dir:a});return this.pushStack(b)},smoothScroll:function(b){b=b||{};var c=a.extend({},a.fn.smoothScroll.defaults,b),d=a.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(b){var e=this,g=a(this),h=c.exclude,i=c.excludeWithin,j=0,k=0,l=!0,m={},n=location.hostname===e.hostname||!e.hostname,o=c.scrollTarget||(a.smoothScroll.filterPath(e.pathname)||d)===d,p=f(e.hash);if(!c.scrollTarget&&(!n||!o||!p))l=!1;else{while(l&&j<h.length)g.is(f(h[j++]))&&(l=!1);while(l&&k<i.length)g.closest(i[k++]).length&&(l=!1)}l&&(b.preventDefault(),a.extend(m,c,{scrollTarget:c.scrollTarget||p,link:e}),a.smoothScroll(m))}),this}}),a.smoothScroll=function(b,c){var d,e,f,g,h=0,i="offset",j="scrollTop",k={},l={},m=[];typeof b=="number"?(d=a.fn.smoothScroll.defaults,f=b):(d=a.extend({},a.fn.smoothScroll.defaults,b||{}),d.scrollElement&&(i="position",d.scrollElement.css("position")=="static"&&d.scrollElement.css("position","relative")),f=c||a(d.scrollTarget)[i]()&&a(d.scrollTarget)[i]()[d.direction]||0),d=a.extend({link:null},d),j=d.direction=="left"?"scrollLeft":j,d.scrollElement?(e=d.scrollElement,h=e[j]()):e=a("html, body").firstScrollable(),k[j]=f+h+d.offset,d.beforeScroll.call(e,d),g=d.speed,g==="auto"&&(g=k[j]||e.scrollTop(),g/=d.autoCoefficent),l={duration:g,easing:d.easing,complete:function(){d.afterScroll.call(d.link,d)}},d.step&&(l.step=d.step),e.length?e.stop().animate(k,l):d.afterScroll.call(d.link,d)},a.smoothScroll.version=b,a.smoothScroll.filterPath=function(a){return a.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},a.fn.smoothScroll.defaults=c}(jQuery),function(){function a(b,c,d){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;b._chain&&(b=b._wrapped),c._chain&&(c=c._wrapped);if(b.isEqual&&v.isFunction(b.isEqual))return b.isEqual(c);if(c.isEqual&&v.isFunction(c.isEqual))return c.isEqual(b);var e=i.call(b);if(e!=i.call(c))return!1;switch(e){case"[object String]":return b==""+c;case"[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case"[object Date]":case"[object Boolean]":return+b==+c;case"[object RegExp]":return b.source==c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||"object"!=typeof c)return!1;for(var f=d.length;f--;)if(d[f]==b)return!0;d.push(b);var f=0,g=!0;if("[object Array]"==e){if(f=b.length,g=f==c.length)for(;f--&&(g=f in b==f in c&&a(b[f],c[f],d)););}else{if("constructor"in b!="constructor"in c||b.constructor!=c.constructor)return!1;for(var h in b)if(v.has(b,h)&&(f++,!(g=v.has(c,h)&&a(b[h],c[h],d))))break;if(g){for(h in c)if(v.has(c,h)&&!(f--))break;g=!f}}return d.pop(),g}var b=this,c=b._,d={},e=Array.prototype,f=Object.prototype,g=e.slice,h=e.unshift,i=f.toString,j=f.hasOwnProperty,k=e.forEach,l=e.map,m=e.reduce,n=e.reduceRight,o=e.filter,p=e.every,q=e.some,r=e.indexOf,s=e.lastIndexOf,f=Array.isArray,t=Object.keys,u=Function.prototype.bind,v=function(a){return new G(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):b._=v,v.VERSION="1.3.3";var w=v.each=v.forEach=function(a,b,c){if(a!=null)if(k&&a.forEach===k)a.forEach(b,c);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if(e in a&&b.call(c,a[e],e,a)===d)break}else for(e in a)if(v.has(a,e)&&b.call(c,a[e],e,a)===d)break};v.map=v.collect=function(a,b,c){var d=[];return a==null?d:l&&a.map===l?a.map(b,c):(w(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),a.length===+a.length&&(d.length=a.length),d)},v.reduce=v.foldl=v.inject=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(m&&a.reduce===m)return d&&(b=v.bind(b,d)),e?a.reduce(b,c):a.reduce(b);w(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c},v.reduceRight=v.foldr=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(n&&a.reduceRight===n)return d&&(b=v.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=v.toArray(a).reverse();return d&&!e&&(b=v.bind(b,d)),e?v.reduce(f,b,c,d):v.reduce(f,b)},v.find=v.detect=function(a,b,c){var d;return x(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0}),d},v.filter=v.select=function(a,b,c){var d=[];return a==null?d:o&&a.filter===o?a.filter(b,c):(w(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},v.reject=function(a,b,c){var d=[];return a==null?d:(w(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},v.every=v.all=function(a,b,c){var e=!0;return a==null?e:p&&a.every===p?a.every(b,c):(w(a,function(a,f,g){if(!(e=e&&b.call(c,a,f,g)))return d}),!!e)};var x=v.some=v.any=function(a,b,c){b||(b=v.identity);var e=!1;return a==null?e:q&&a.some===q?a.some(b,c):(w(a,function(a,f,g){if(e||(e=b.call(c,a,f,g)))return d}),!!e)};v.include=v.contains=function(a,b){var c=!1;return a==null?c:r&&a.indexOf===r?a.indexOf(b)!=-1:c=x(a,function(a){return a===b})},v.invoke=function(a,b){var c=g.call(arguments,2);return v.map(a,function(a){return(v.isFunction(b)?b||a:a[b]).apply(a,c)})},v.pluck=function(a,b){return v.map(a,function(a){return a[b]})},v.max=function(a,b,c){if(!b&&v.isArray(a)&&a[0]===+a[0])return Math.max.apply(Math,a);if(!b&&v.isEmpty(a))return-Infinity;var d={computed:-Infinity};return w(a,function(a,e,f){e=b?b.call(c,a,e,f):a,e>=d.computed&&(d={value:a,computed:e})}),d.value},v.min=function(a,b,c){if(!b&&v.isArray(a)&&a[0]===+a[0])return Math.min.apply(Math,a);if(!b&&v.isEmpty(a))return Infinity;var d={computed:Infinity};return w(a,function(a,e,f){e=b?b.call(c,a,e,f):a,e<d.computed&&(d={value:a,computed:e})}),d.value},v.shuffle=function(a){var b=[],c;return w(a,function(a,d){c=Math.floor(Math.random()*(d+1)),b[d]=b[c],b[c]=a}),b},v.sortBy=function(a,b,c){var d=v.isFunction(b)?b:function(a){return a[b]};return v.pluck(v.map(a,function(a,b,e){return{value:a,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c===void 0?1:d===void 0?-1:c<d?-1:c>d?1:0}),"value")},v.groupBy=function(a,b){var c={},d=v.isFunction(b)?b:function(a){return a[b]};return w(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)}),c},v.sortedIndex=function(a,b,c){c||(c=v.identity);for(var d=0,e=a.length;d<e;){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},v.toArray=function(a){return a?v.isArray(a)||v.isArguments(a)?g.call(a):a.toArray&&v.isFunction(a.toArray)?a.toArray():v.values(a):[]},v.size=function(a){return v.isArray(a)?a.length:v.keys(a).length},v.first=v.head=v.take=function(a,b,c){return b!=null&&!c?g.call(a,0,b):a[0]},v.initial=function(a,b,c){return g.call(a,0,a.length-(b==null||c?1:b))},v.last=function(a,b,c){return b!=null&&!c?g.call(a,Math.max(a.length-b,0)):a[a.length-1]},v.rest=v.tail=function(a,b,c){return g.call(a,b==null||c?1:b)},v.compact=function(a){return v.filter(a,function(a){return!!a})},v.flatten=function(a,b){return v.reduce(a,function(a,c){return v.isArray(c)?a.concat(b?c:v.flatten(c)):(a[a.length]=c,a)},[])},v.without=function(a){return v.difference(a,g.call(arguments,1))},v.uniq=v.unique=function(a,b,c){var c=c?v.map(a,c):a,d=[];return a.length<3&&(b=!0),v.reduce(c,function(c,e,f){if(b?v.last(c)!==e||!c.length:!v.include(c,e))c.push(e),d.push(a[f]);return c},[]),d},v.union=function(){return v.uniq(v.flatten(arguments,!0))},v.intersection=v.intersect=function(a){var b=g.call(arguments,1);return v.filter(v.uniq(a),function(a){return v.every(b,function(b){return v.indexOf(b,a)>=0})})},v.difference=function(a){var b=v.flatten(g.call(arguments,1),!0);return v.filter(a,function(a){return!v.include(b,a)})},v.zip=function(){for(var a=g.call(arguments),b=v.max(v.pluck(a,"length")),c=Array(b),d=0;d<b;d++)c[d]=v.pluck(a,""+d);return c},v.indexOf=function(a,b,c){if(a==null)return-1;var d;if(c)return c=v.sortedIndex(a,b),a[c]===b?c:-1;if(r&&a.indexOf===r)return a.indexOf(b);c=0;for(d=a.length;c<d;c++)if(c in a&&a[c]===b)return c;return-1},v.lastIndexOf=function(a,b){if(a==null)return-1;if(s&&a.lastIndexOf===s)return a.lastIndexOf(b);for(var c=a.length;c--;)if(c in a&&a[c]===b)return c;return-1},v.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0);for(var c=arguments[2]||1,d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);e<d;)f[e++]=a,a+=c;return f};var y=function(){};v.bind=function(a,b){var c,d;if(a.bind===u&&u)return u.apply(a,g.call(arguments,1));if(!v.isFunction(a))throw new TypeError;return d=g.call(arguments,2),c=function(){if(this instanceof c){y.prototype=a.prototype;var e=new y,f=a.apply(e,d.concat(g.call(arguments)));return Object(f)===f?f:e}return a.apply(b,d.concat(g.call(arguments)))}},v.bindAll=function(a){var b=g.call(arguments,1);return b.length==0&&(b=v.functions(a)),w(b,function(b){a[b]=v.bind(a[b],a)}),a},v.memoize=function(a,b){var c={};return b||(b=v.identity),function(){var d=b.apply(this,arguments);return v.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},v.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},v.defer=function(a){return v.delay.apply(v,[a,1].concat(g.call(arguments,1)))},v.throttle=function(a,b){var c,d,e,f,g,h,i=v.debounce(function(){g=f=!1},b);return function(){return c=this,d=arguments,e||(e=setTimeout(function(){e=null,g&&a.apply(c,d),i()},b)),f?g=!0:h=a.apply(c,d),i(),f=!0,h}},v.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments;c&&!d&&a.apply(e,f),clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b)}},v.once=function(a){var b=!1,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments))}},v.wrap=function(a,b){return function(){var c=[a].concat(g.call(arguments,0));return b.apply(this,c)}},v.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},v.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}},v.keys=t||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)v.has(a,c)&&(b[b.length]=c);return b},v.values=function(a){return v.map(a,v.identity)},v.functions=v.methods=function(a){var b=[],c;for(c in a)v.isFunction(a[c])&&b.push(c);return b.sort()},v.extend=function(a){return w(g.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},v.pick=function(a){var b={};return w(v.flatten(g.call(arguments,1)),function(c){c in a&&(b[c]=a[c])}),b},v.defaults=function(a){return w(g.call(arguments,1),function(b){for(var c in b)a[c]==null&&(a[c]=b[c])}),a},v.clone=function(a){return v.isObject(a)?v.isArray(a)?a.slice():v.extend({},a):a},v.tap=function(a,b){return b(a),a},v.isEqual=function(b,c){return a(b,c,[])},v.isEmpty=function(a){if(a==null)return!0;if(v.isArray(a)||v.isString(a))return a.length===0;for(var b in a)if(v.has(a,b))return!1;return!0},v.isElement=function(a){return!!a&&a.nodeType==1},v.isArray=f||function(a){return i.call(a)=="[object Array]"},v.isObject=function(a){return a===Object(a)},v.isArguments=function(a){return i.call(a)=="[object Arguments]"},v.isArguments(arguments)||(v.isArguments=function(a){return!!a&&!!v.has(a,"callee")}),v.isFunction=function(a){return i.call(a)=="[object Function]"},v.isString=function(a){return i.call(a)=="[object String]"},v.isNumber=function(a){return i.call(a)=="[object Number]"},v.isFinite=function(a){return v.isNumber(a)&&isFinite(a)},v.isNaN=function(a){return a!==a},v.isBoolean=function(a){return a===!0||a===!1||i.call(a)=="[object Boolean]"},v.isDate=function(a){return i.call(a)=="[object Date]"},v.isRegExp=function(a){return i.call(a)=="[object RegExp]"},v.isNull=function(a){return a===null},v.isUndefined=function(a){return a===void 0},v.has=function(a,b){return j.call(a,b)},v.noConflict=function(){return b._=c,this},v.identity=function(a){return a},v.times=function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)},v.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},v.result=function(a,b){if(a==null)return null;var c=a[b];return v.isFunction(c)?c.call(a):c},v.mixin=function(a){w(v.functions(a),function(b){I(b,v[b]=a[b])})};var z=0;v.uniqueId=function(a){var b=z++;return a?a+b:b},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/.^/,B={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"},C;for(C in B)B[B[C]]=C;var D=/\\|'|\r|\n|\t|\u2028|\u2029/g,E=/\\(\\|'|r|n|t|u2028|u2029)/g,F=function(a){return a.replace(E,function(a,b){return B[b]})};v.template=function(a,b,c){c=v.defaults(c||{},v.templateSettings),a="__p+='"+a.replace(D,function(a){return"\\"+B[a]}).replace(c.escape||A,function(a,b){return"'+\n_.escape("+F(b)+")+\n'"}).replace(c.interpolate||A,function(a,b){return"'+\n("+F(b)+")+\n'"}).replace(c.evaluate||A,function(a,b){return"';\n"+F(b)+"\n;__p+='"})+"';\n",c.variable||(a="with(obj||{}){\n"+a+"}\n");var a="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+a+"return __p;\n",d=new Function(c.variable||"obj","_",a);return b?d(b,v):(b=function(a){return d.call(this,a,v)},b.source="function("+(c.variable||"obj")+"){\n"+a+"}",b)},v.chain=function(a){return v(a).chain()};var G=function(a){this._wrapped=a};v.prototype=G.prototype;var H=function(a,b){return b?v(a).chain():a},I=function(a,b){G.prototype[a]=function(){var a=g.call(arguments);return h.call(a,this._wrapped),H(b.apply(v,a),this._chain)}};v.mixin(v),w("pop,push,reverse,shift,sort,splice,unshift".split(","),function(a){var b=e[a];G.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;return(a=="shift"||a=="splice")&&d===0&&delete c[0],H(c,this._chain)}}),w(["concat","join","slice"],function(a){var b=e[a];G.prototype[a]=function(){return H(b.apply(this._wrapped,arguments),this._chain)}}),G.prototype.chain=function(){return this._chain=!0,this},G.prototype.value=function(){return this._wrapped}}.call(this);var VORE={Class:{namespace:function(name,value){var parts=name.split("."),type,part;for(var i=0;i<parts.length;i++)part=parts.slice(0,i+1).join("."),eval("type = typeof("+part+");"),type=="undefined"&&eval(part+" = {}");eval(name+" = value")},create:function(a,b,c,d){VORE.Class.namespace(a,c);if(b&&b!=Object&&b!=Function){var e=function(){};e.prototype=b.prototype,c.prototype=new e,c.prototype.constructor=c,c.baseConstructor=b,c.superClass=b.prototype}for(var f in d)c.prototype[f]=d[f];return c}}};VORE.Utils={greyPixel:"data:image/gif;base64,R0lGODlhAQABAIAAAP7+/v///yH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",eventMask:[],zeropad:function(a){return(a<10?"0":"")+a},secondsToFullDate:function(a){var b=new Date(a*1e3),c=["January","February","March","April","May","June","July","August","September","October","November","December"],d=b.getHours(),e="AM";return d>=12&&(d-=12,e="PM"),d==0&&(d=12),c[b.getMonth()]+" "+b.getDate()+", "+b.getFullYear()+" at "+d+":"+this.zeropad(b.getMinutes())+" "+e},dateInSecondstoISOString:function(a){var b=new Date(a*1e3);return b.getUTCFullYear()+"-"+this.zeropad(b.getUTCMonth()+1)+"-"+this.zeropad(b.getUTCDate())+"T"+this.zeropad(b.getUTCHours())+":"+this.zeropad(b.getUTCMinutes())+":"+this.zeropad(b.getUTCSeconds())+"Z"},getGravatarUrl:function(a,b){var c=function(a){function b(a,b){return a<<b|a>>>32-b}function c(a,b){var c,d,e,f,g;return e=a&2147483648,f=b&2147483648,c=a&1073741824,d=b&1073741824,g=(a&1073741823)+(b&1073741823),c&d?g^2147483648^e^f:c|d?g&1073741824?g^3221225472^e^f:g^1073741824^e^f:g^e^f}function d(a,b,c){return a&b|~a&c}function e(a,b,c){return a&c|b&~c}function f(a,b,c){return a^b^c}function g(a,b,c){return b^(a|~c)}function h(a,e,f,g,h,i,j){return a=c(a,c(c(d(e,f,g),h),j)),c(b(a,i),e)}function i(a,d,f,g,h,i,j){return a=c(a,c(c(e(d,f,g),h),j)),c(b(a,i),d)}function j(a,d,e,g,h,i,j){return a=c(a,c(c(f(d,e,g),h),j)),c(b(a,i),d)}function k(a,d,e,f,h,i,j){return a=c(a,c(c(g(d,e,f),h),j)),c(b(a,i),d)}function l(a){var b,c=a.length,d=c+8,e=(d-d%64)/64,f=(e+1)*16,g=Array(f-1),h=0,i=0;while(i<c)b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g}function m(a){var b="",c="",d,e;for(e=0;e<=3;e++)d=a>>>e*8&255,c="0"+d.toString(16),b+=c.substr(c.length-2,2);return b}function n(a){a=a.replace(/rn/g,"n");var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b}var o=Array(),p,q,r,s,t,u,v,w,x,y=7,z=12,A=17,B=22,C=5,D=9,E=14,F=20,G=4,H=11,I=16,J=23,K=6,L=10,M=15,N=21;a=n(a),o=l(a),u=1732584193,v=4023233417,w=2562383102,x=271733878;for(p=0;p<o.length;p+=16)q=u,r=v,s=w,t=x,u=h(u,v,w,x,o[p+0],y,3614090360),x=h(x,u,v,w,o[p+1],z,3905402710),w=h(w,x,u,v,o[p+2],A,606105819),v=h(v,w,x,u,o[p+3],B,3250441966),u=h(u,v,w,x,o[p+4],y,4118548399),x=h(x,u,v,w,o[p+5],z,1200080426),w=h(w,x,u,v,o[p+6],A,2821735955),v=h(v,w,x,u,o[p+7],B,4249261313),u=h(u,v,w,x,o[p+8],y,1770035416),x=h(x,u,v,w,o[p+9],z,2336552879),w=h(w,x,u,v,o[p+10],A,4294925233),v=h(v,w,x,u,o[p+11],B,2304563134),u=h(u,v,w,x,o[p+12],y,1804603682),x=h(x,u,v,w,o[p+13],z,4254626195),w=h(w,x,u,v,o[p+14],A,2792965006),v=h(v,w,x,u,o[p+15],B,1236535329),u=i(u,v,w,x,o[p+1],C,4129170786),x=i(x,u,v,w,o[p+6],D,3225465664),w=i(w,x,u,v,o[p+11],E,643717713),v=i(v,w,x,u,o[p+0],F,3921069994),u=i(u,v,w,x,o[p+5],C,3593408605),x=i(x,u,v,w,o[p+10],D,38016083),w=i(w,x,u,v,o[p+15],E,3634488961),v=i(v,w,x,u,o[p+4],F,3889429448),u=i(u,v,w,x,o[p+9],C,568446438),x=i(x,u,v,w,o[p+14],D,3275163606),w=i(w,x,u,v,o[p+3],E,4107603335),v=i(v,w,x,u,o[p+8],F,1163531501),u=i(u,v,w,x,o[p+13],C,2850285829),x=i(x,u,v,w,o[p+2],D,4243563512),w=i(w,x,u,v,o[p+7],E,1735328473),v=i(v,w,x,u,o[p+12],F,2368359562),u=j(u,v,w,x,o[p+5],G,4294588738),x=j(x,u,v,w,o[p+8],H,2272392833),w=j(w,x,u,v,o[p+11],I,1839030562),v=j(v,w,x,u,o[p+14],J,4259657740),u=j(u,v,w,x,o[p+1],G,2763975236),x=j(x,u,v,w,o[p+4],H,1272893353),w=j(w,x,u,v,o[p+7],I,4139469664),v=j(v,w,x,u,o[p+10],J,3200236656),u=j(u,v,w,x,o[p+13],G,681279174),x=j(x,u,v,w,o[p+0],H,3936430074),w=j(w,x,u,v,o[p+3],I,3572445317),v=j(v,w,x,u,o[p+6],J,76029189),u=j(u,v,w,x,o[p+9],G,3654602809),x=j(x,u,v,w,o[p+12],H,3873151461),w=j(w,x,u,v,o[p+15],I,530742520),v=j(v,w,x,u,o[p+2],J,3299628645),u=k(u,v,w,x,o[p+0],K,4096336452),x=k(x,u,v,w,o[p+7],L,1126891415),w=k(w,x,u,v,o[p+14],M,2878612391),v=k(v,w,x,u,o[p+5],N,4237533241),u=k(u,v,w,x,o[p+12],K,1700485571),x=k(x,u,v,w,o[p+3],L,2399980690),w=k(w,x,u,v,o[p+10],M,4293915773),v=k(v,w,x,u,o[p+1],N,2240044497),u=k(u,v,w,x,o[p+8],K,1873313359),x=k(x,u,v,w,o[p+15],L,4264355552),w=k(w,x,u,v,o[p+6],M,2734768916),v=k(v,w,x,u,o[p+13],N,1309151649),u=k(u,v,w,x,o[p+4],K,4149444226),x=k(x,u,v,w,o[p+11],L,3174756917),w=k(w,x,u,v,o[p+2],M,718787259),v=k(v,w,x,u,o[p+9],N,3951481745),u=c(u,q),v=c(v,r),w=c(w,s),x=c(x,t);var O=m(u)+m(v)+m(w)+m(x);return O.toLowerCase()},b=b||80,d=location.protocol==="https:"?"https://secure.gravatar.com":"http://www.gravatar.com";return d+"/avatar/"+c(a)+".jpg?s="+b+"&d="+location.protocol+"//s3.amazonaws.com/layervault/images/default_avatar_"+b+".jpeg"},getModalSmallGravatar:function(a){var b=document.createElement("div");return b.setAttribute("class","SharedUserIcon"),b.innerHTML="<img src='"+VORE.Utils.getGravatarUrl(a,40)+"'>",b},portraitSrc:function(a,b){var c;if(!a)return;return c="/users/portrait?email="+a,c=b?c+"&size="+b:c,c},getUrlVars:function(){var a=[],b,c,d;c=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(d=0;d<c.length;d++)b=c[d].split("="),a.push(b[0]),a[b[0]]=b[1];return a},randomString:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghijklmnopqrstuvwxyz",b=8,c="",d,e;for(d=0;d<b;d++)e=Math.floor(Math.random()*a.length),c+=a.substring(e,e+1);return c},colorToHex:function(a){var b=a[0].toString(16),c=a[1].toString(16),d=a[2].toString(16);while(b.length<2)b="0"+b;while(c.length<2)c="0"+c;while(d.length<2)d="0"+d;return b+c+d},userId:function(){return this.userIdVal?this.userIdVal:(this.userIdVal=$("#CurrentUserInfo").attr("data-user-id")||0,this.userIdVal)},userEmail:function(){return $("#CurrentUserInfo").attr("data-user-email")},isValidEmailAddress:function(a){var b=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return b.test(a)},projects:function(){return $(".Project")},ownedProjects:function(){return $(".Project").dfilter("owner-id",VORE.Utils.userId())},totalCollaborators:function(){return VORE.Utils.uniqueOwnedCollaborators().length},uniqueOwnedCollaborators:function(){try{return JSON.parse($("#CurrentUserInfo").attr("data-user-owned-collaborators"))}catch(a){return[]}},planCollaborators:function(){var a=parseInt($("#CurrentUserInfo").attr("data-user-plan-collaborators"),10);return isNaN(a)&&(a=0),a},addCommas:function(a){var b=new String(a),c="",d;b=b.split("").reverse();for(d=0;d<=b.length-1;d++)c=b[d]+c,(d+1)%3===0&&b.length-1!==d&&(c=","+c);return c},currentFolderPathFromUrl:function(){return matches=/\/~\/([^.]*)(?:\/(.*\..*))?$/.exec(decodeURI(document.location.pathname.toString())),!matches||matches.length===0?null:matches[1]},toISO8601:function(a){return a.getUTCFullYear()+"-"+VORE.Utils.pad(a.getUTCMonth()+1)+"-"+VORE.Utils.pad(a.getUTCDate())+"T"+VORE.Utils.pad(a.getUTCHours())+":"+VORE.Utils.pad(a.getUTCMinutes())+":"+VORE.Utils.pad(a.getUTCSeconds())+"Z"},pad:function(a){return a<10?"0"+a:a},parentIsFirstResponder:function(a){return a.parents(".FirstResponder").length>0},hasClientConnected:function(){return $("body").hasClass("Online")},currentFolderId:function(){var a=$("#CurrentFolderInfo");return a.length>0?parseInt(a.attr("data-id"),10):null},currentFolderPath:function(){var a=$("#CurrentFolderInfo");return a.length>0?a.attr("data-path"):null},atRoot:function(){return document.location.pathname==="/~"||document.location.pathname==="/~/"},addToEventMask:function(a){this.eventMask.push(a)},randomLinkNumber:function(){return Math.floor(Math.random()*9e3)+1e3},randomId:function(){return"_LV"+(Math.floor(Math.random()*1e7)+1)},iOS:function(){return/(iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent)},iPhone:function(){return/(iPhone|iPod).*AppleWebKit/i.test(navigator.userAgent)},iPad:function(){return/(iPad).*AppleWebKit/i.test(navigator.userAgent)},firstParentId:function(){return parseInt($("#CurrentFileInfo").attr("data-first-parent-id"),10)},sanitizeContentEditable:function(a){return a?(a=a.replace(/ class="Wrap"/g,""),a=a.replace(/<div><br><\/div>/g,"\n"),a=a.replace(/<div>/g,"\n"),a=a.replace(/<\/div>/g,""),a=a.replace(/<br>/g,""),a=a.replace(/&nbsp;/g," "),a):""},offsetEventRelative:function(a,b){return a.offsetX?a:(a.offsetX=a.pageX-b.offsetLeft,a.offsetY=a.pageY-b.offsetTop,a)},activeSignpostId:function(){return parseInt($(".Active").attr("data-signpost-id"),10)},currentUserIsBeta:function(){return!!$("#CurrentUserInfo").attr("data-is-beta")}},Array.max=function(a){return Math.max.apply(Math,a)},Array.min=function(a){return Math.min.apply(Math,a)},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame}();var Froogaloop=function(){function a(b){return new a.fn.init(b)}function b(a,b,c){if(!c.contentWindow.postMessage)return!1;var d=c.getAttribute("src").split("?")[0],a=JSON.stringify({method:a,value:b});"//"===d.substr(0,2)&&(d=window.location.protocol+d),c.contentWindow.postMessage(a,d)}function c(a){var b,c;try{b=JSON.parse(a.data),c=b.event||b.method}catch(d){}"ready"==c&&!f&&(f=!0);if(a.origin!=g)return!1;var a=b.value,h=b.data,j=""===j?null:b.player_id;return b=j?e[j][c]:e[c],c=[],b?(void 0!==a&&c.push(a),h&&c.push(h),j&&c.push(j),0<c.length?b.apply(null,c):b.call()):!1}function d(a,b,c){c?(e[c]||(e[c]={}),e[c][a]=b):e[a]=b}var e={},f=!1,g="";return a.fn=a.prototype={element:null,init:function(a){"string"==typeof a&&(a=document.getElementById(a)),this.element=a,a=this.element.getAttribute("src"),"//"===a.substr(0,2)&&(a=window.location.protocol+a);for(var a=a.split("/"),b="",c=0,d=a.length;c<d;c++){if(!(3>c))break;b+=a[c],2>c&&(b+="/")}return g=b,this},api:function(a,c){if(!this.element||!a)return!1;var e=this.element,f=""!==e.id?e.id:null,g=!c||!c.constructor||!c.call||!c.apply?c:null,i=c&&c.constructor&&c.call&&c.apply?c:null;return i&&d(a,i,f),b(a,g,e),this},addEvent:function(a,c){if(!this.element)return!1;var e=this.element,g=""!==e.id?e.id:null;return d(a,c,g),"ready"!=a?b("addEventListener",a,e):"ready"==a&&f&&c.call(null,g),this},removeEvent:function(a){if(!this.element)return!1;var c=this.element,d;a:{if((d=""!==c.id?c.id:null)&&e[d]){if(!e[d][a]){d=!1;break a}e[d][a]=null}else{if(!e[a]){d=!1;break a}e[a]=null}d=!0}"ready"!=a&&d&&b("removeEventListener",a,c)}},a.fn.init.prototype=a.fn,window.addEventListener?window.addEventListener("message",c,!1):window.attachEvent("onmessage",c),window.Froogaloop=window.$f=a}();VORE.Class.create("VORE.Controls.Control",Object,function(a){var b=this;this.debug=a?a.debug:!1,$(window).resize(function(){b.resize()})},{listeners:{},debug:!1,log:function(){if(!this.debug)return!1;if(typeof console=="object"&&typeof console.log!="undefined")try{console.log.apply(this,arguments)}catch(a){}},resize:function(){},concatArgs:function(a,b){var c=[];for(var d=0;d<a.length;d++)c.push(a[d]);for(var d=1;d<b.length;d++)c.push(b[d]);return c},delegate:function(a){var b=this,c=arguments,d;return d=function(){a.apply(b,b.concatArgs(arguments,c))},d},addEventListener:function(a,b){var c=a;this.listeners[c]?this.listeners[c].push(b):this.listeners[c]=[b]},removeEventListeners:function(a){var b=a;this.listeners[b]&&(this.listeners[b]=[])},fireEvent:function(a,b){var c,d,e;e=a,c=this.listeners[e];if(c)for(d=0;d<c.length;d++)c[d](b);typeof VORE.EventReporter!="undefined"&&VORE.EventReporter.reportEvent(a,b)},bubbleRealtimeEventsForUser:function(){var a=this;_.each(this.realtimeEvents,function(b){VORE.Utils.addToEventMask(b),a.addEventListener(b,function(c){a.fireEvent("publishTo",{room:"user/"+VORE.Utils.userId(),event:{name:b,obj:c}})})})}}),VORE.Class.create("VORE.Controls.HomeController",VORE.Controls.Control,function(){var a=this;$(function(){a.initialize()})},{initialize:function(){this.spiral=new VORE.Controls.Spiral,window.setTimeout(this.delegate(this.insertPlayer),1),this.bindVideoButton(),this.bindIOSButtons()},insertPlayer:function(){var a;$("#InActionVideo").append('<iframe id="InActionVideoPlayer" src="//player.vimeo.com/video/40932981?api=1&amp;byline=0&amp;portrait=0" width="620" height="388" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'),a=document.querySelectorAll("iframe"),this.player=a[0]},bindVideoButton:function(){var a=this;$("#InActionVideo").on("click","a",function(){return $("#InActionVideoPlayer").show(),$f(a.player).api("play"),$("#InActionVideo a"
).hide(),!1})},bindIOSButtons:function(){$("#HomeLink").click(function(){$("#Closeup").hide()}),$("#CloseupLink").click(function(){document.location="/closeup"})}}),VORE.Class.create("VORE.Controls.LoginController",VORE.Controls.Control,function(){var a=this;$(function(){a.initialize()})},{initialize:function(){this.$loginButton=$("#LoginButton"),this.$password=$("#LoginPasswordInput"),this.$forgotPasswordLink=$("#ForgotPasswordButton"),this.$form=$("#new_user_session"),this.$loginInput=$("#LoginEmailInput"),this.initErrors(),this.initButtonClicks(),this.initKeyboardEvents(),this.$loginInput.focus()},initButtonClicks:function(){this.$loginButton.click(this.delegate(this.onLoginLinkClick)),this.$forgotPasswordLink.click(this.delegate(this.onForgotPasswordClick))},initKeyboardEvents:function(){this.$password.keyup(this.delegate(this.onPasswordKeyup)),this.$loginInput.keyup(this.delegate(this.onLoginKeyup))},onLoginLinkClick:function(a){var b=this;this.$form.hasClass("ForgotPasswordMode")?this.doForgotPassword():$("#new_user_session").submit()},onForgotPasswordClick:function(a){this.$form.addClass("ForgotPasswordMode"),this.$loginButton.find("a").html("Send new password"),this.$loginButton.addClass("NewPassword"),$("body").removeClass("AuthError")},doForgotPassword:function(){var a=this;if(!VORE.Utils.isValidEmailAddress($("#LoginEmailInput").val()))return $("#LoginError").html("Valid email required."),$("body").addClass("AuthError"),!1;$("body").removeClass("AuthError"),$("#LoginError").html("We have emailed you a new password."),$("#LoginError").slideDown(),this.$form.removeClass("ForgotPasswordMode"),$("#LoginLink").html("Login"),$("#LoginButton").removeClass("NewPassword"),$.post("/user_sessions/forgot_password.json",{email:$("#LoginEmailInput").val()})},onLoginKeyup:function(a){var b=a.keyCode?a.keyCode:a.which;if(b===13&&this.$form.hasClass("ForgotPasswordMode"))return a.preventDefault(),a.stopPropagation(),this.doForgotPassword(),!1;b===13&&$("#LoginPasswordInput").val().length!==0&&$("#new_user_session").submit()},onPasswordKeyup:function(a){var b=a.keyCode?a.keyCode:a.which;if(b===13)return a.preventDefault(),a.stopPropagation(),$("#new_user_session").submit(),!1},initErrors:function(){$("#FormErrors").html()!==""&&$("body").addClass("AuthError")}}),VORE.Class.create("VORE.Controls.PricingController",VORE.Controls.Control,function(){var a=this;$(document).ready(function(){a.initialize()})},{initialize:function(){this.bindShowThoughts()},bindShowThoughts:function(){$("body").on("click",".WhatWeThink,.BackToPlan",this.delegate(this.onOurThoughtsClick))},onOurThoughtsClick:function(a){var b=$(a.target);b.parents(".PricingColumn").toggleClass("ShowThoughts")}}),VORE.Class.create("VORE.Controls.CheckoutController",VORE.Controls.Control,function(){var a=this;$(function(){a.initialize()})},{emailSel:"#CheckoutEmail",cvvSel:"#CVVNumber",ccNumberSel:"#CCNumber",monthSel:"#CCMonth",yearSel:"#CCYear",errorPlaceholderSel:".ErrorPlaceholder",toggleCouponSel:"#ToggleCoupon",couponFormSel:"#CouponForm",couponCodeSel:"#LVCouponCode",createAccountButtonSel:".SubscribeButton",ccErrorMessage:"Please enter a valid credit card number.",cvvErrorMessage:"Please enter a valid CVV number.",dateErrorMessage:"Please select a valid expiration date.",emailErrorMessage:"A valid email address is required.",stripeKey:"pk_GU6jBrA1i8NzOKztQrj7ckGDtTMlE",formSelector:"#RecurlySubscriptionForm",successURL:"payments/complete",errorClassMessageMap:{first_name:"A first name is required to sign up.",last_name:"A last name is required to sign up.",email:"An email address is required for billing.",card_number:"A valid credit card number is required.",cvv:"A valid CVV is required.",any:"There was a problem processing your transaction. Please confirm your info."},createCustomerTokenEndpoint:"/users/create_customer_token.json",updateSubscriptionPlanEndpoint:"/users/update_subscription_plan.json",initialize:function(){this.configureStripe(),this.originalPrice=$("#OrderTotal").text().replace("/month",""),this.bindValidators(),this.bindButtons(),this.bindCoupons(),this.couponCodeInUrl()},bindValidators:function(){var a=$("body");a.on("change",this.ccNumberSel,this.delegate(this.onCCNumberChange)),a.on("change",this.cvvSel,this.delegate(this.onCVVChange)),a.on("change",this.monthSel,this.delegate(this.onDateChange)),a.on("change",this.yearSel,this.delegate(this.onDateChange)),a.on("change",this.emailSel,this.delegate(this.onEmailChange)),a.on("change",[this.ccNumberSel,this.cvvSel,this.monthSel,this.yearSel,this.emailSel].join(","),this.delegate(this.onInputChanged))},bindButtons:function(){var a=$("body");a.on("click",this.createAccountButtonSel,this.delegate(this.onSubscribeButtonClick)),a.on("click",this.toggleCouponSel,this.delegate(this.onToggleCouponClick))},bindCoupons:function(){$("body").on("change",this.couponCodeSel,this.delegate(this.onCouponCodeChange))},configureStripe:function(){Stripe.setPublishableKey(this.stripeKey)},onCreateUserSuccess:function(a){a.error?($(".ErrorPlaceholder").html(a.error),$(".ErrorPlaceholder").fadeIn()):($("#CurrentUserInfo").attr("data-user-id",a[0].user.id),Stripe.createToken({number:$(this.ccNumberSel).val(),cvc:$(this.cvvSel).val(),exp_month:$(this.monthSel).val(),exp_year:$(this.yearSel).val()},this.delegate(this.onStripeCreateTokenResponse)))},onStripeCreateTokenResponse:function(a,b){if(a!==200)return;$.post(this.createCustomerTokenEndpoint,{user_id:VORE.Utils.userId(),token:b.id,coupon_code:$(this.couponCodeSel).val()}).success(this.delegate(this.onSetTokenResponse)).error(this.delegate(this.onSetTokenError))},onSetTokenResponse:function(a){if(a&&a.error)return;$.post(this.updateSubscriptionPlanEndpoint,{user_id:VORE.Utils.userId(),plancode:VORE.Utils.getUrlVars().plancode}).success(this.delegate(this.onUpdateSubscriptionPlanSuccess)).error(this.delegate(this.onUpdateSubscriptionPlanError))},onSetTokenError:function(){this.showError("Credit card was declined.")},onUpdateSubscriptionPlanSuccess:function(){document.location="/~?payment_success=true&plan="+VORE.Utils.getUrlVars().plancode},onUpdateSubscriptionPlanError:function(){},onCreateUserError:function(a){var b=["email"],c=this;a=$.parseJSON(a.responseText),_.each(b,function(b){!a[b]||c.showError(b.capitalize()+" "+_.first(a[b])+".")}),this.resetButton()},onSubscribeButtonClick:function(a){var b=this;a.stopPropagation(),a.preventDefault();if(!this.formIsValid())return;return $(".ErrorPlaceholder").removeClass("ActiveError"),$(this.createAccountButtonSel).children("a").html("<div>Please wait...</div>"),$.ajax({type:"POST",url:"/users.json",data:{"user[email]":$("#CheckoutEmail").val(),"user[login]":$("#CheckoutEmail").val(),"user[password]":$("#CheckoutPassword").val(),"user[password_confirmation]":$("#CheckoutPassword").val(),"user[first_name]":$("#FirstName").val(),"user[last_name]":$("#LastName").val()},dataType:"json"}).success(this.delegate(this.onCreateUserSuccess)).error(this.delegate(this.onCreateUserError)),!1},resetButton:function(){$(thisContext.createAccountButtonSel).children("a").html("Create my account")},removeCouponDiscount:function(){$("#OrderTotal").text(this.originalPrice+"/month")},applyCouponDiscount:function(a){var b,c;a=parseFloat(a,10);if(isNaN(a)||a<0||a>100)return;try{b=$("#OrderTotal").text().match(/\$(\d+)\/month/)[1]}catch(d){return}c=(b-b*(a/100)).toFixed(2),$("#OrderTotal").html("$"+c+"/month")},onCouponCodeChange:function(a){var b=$(a.target),c=this;this.removeCouponDiscount(),$.get("/coupons.json",{coupon_code:$(this.couponCodeSel).val()}).success(this.delegate(this.onApplyCouponSuccess)).error(this.delegate(this.onApplyCouponError))},onApplyCouponSuccess:function(a){$("#LVCouponCode").prop("disabled",!1),a&&a.attributes&&a.attributes.discount_percent&&this.applyCouponDiscount(a.attributes.discount_percent)},onApplyCouponError:function(a){},onDOMNodeInserted:function(a){var b=$(a.target);b.hasClass("error")&&this.displayError(b)},displayError:function(a){var b=a.parent().attr("class").split(/\s+/)[1];b&&this.errorClassMessageMap[b]?$(".ErrorPlaceholder").html(this.errorClassMessageMap[b]):$(".ErrorPlaceholder").html("Please double-check the form and try again."),$(".ErrorPlaceholder").fadeIn(),$(".SubscribeButton a").html("Create my account")},onToggleCouponClick:function(){$(this.couponFormSel).slideToggle(),$(this.couponCodeSel).focus()},couponCodeInUrl:function(){if(!VORE.Utils.getUrlVars().coupon_code)return;$(this.toggleCouponSel).hide(),$(this.couponFormSel).slideDown(),$(this.couponCodeSel).val(VORE.Utils.getUrlVars().coupon_code),$(this.couponCodeSel).trigger("change")},ccIsValid:function(){return Stripe.validateCardNumber($(this.ccNumberSel).val())},cvvIsValid:function(){return Stripe.validateCVC($(this.cvvSel).val())},dateIsValid:function(){return Stripe.validateExpiry($(this.monthSel).val(),$(this.yearSel).val())},emailIsValid:function(){return VORE.Utils.isValidEmailAddress($(this.emailSel).val())},formIsValid:function(){return this.emailIsValid()&&this.dateIsValid()&&this.ccIsValid()&&this.cvvIsValid()},onEmailChange:function(){if(this.emailIsValid()){this.hideError(this.emailErrorMessage),$(this.emailSel).removeClass("Invalid");return}this.showError(this.emailErrorMessage),$(this.emailSel).addClass("Invalid")},onCVVChange:function(){if(this.cvvIsValid()){this.hideError(this.cvvErrorMessage),$(this.cvvSel).removeClass("Invalid");return}this.showError(this.cvvErrorMessage),$(this.cvvSel).addClass("Invalid")},onCCNumberChange:function(){if(this.ccIsValid()){this.hideError(this.ccErrorMessage),$(this.ccNumberSel).removeClass("Invalid");return}this.showError(this.ccErrorMessage),$(this.ccNumberSel).addClass("Invalid")},onDateChange:function(){if(this.dateIsValid()){this.hideError(this.dateErrorMessage),$(this.monthSel).removeClass("Invalid"),$(this.yearSel).removeClass("Invalid");return}this.showError(this.dateErrorMessage),$(this.monthSel).addClass("Invalid"),$(this.yearSel).addClass("Invalid")},showError:function(a){if(!a)return;$(this.errorPlaceholderSel).html(a),$(this.errorPlaceholderSel).addClass("ActiveError")},hideError:function(a){!!a&&$(this.errorPlaceholderSel).html()===a&&$(this.errorPlaceholderSel).removeClass("ActiveError")},hideAllErrors:function(){$(this.errorPlaceholderSel).html(""),$(this.errorPlaceholderSel).removeClass("ActiveError")},onInputChanged:function(){this.formIsValid()?$(this.createAccountButtonSel).removeClass("Disabled"):$(this.createAccountButtonSel).addClass("Disabled")}}),VORE.Class.create("VORE.Controls.Tutorials",VORE.Controls.Control,function(){var a=this;$(document).ready(function(){a.initialize()})},{bindTabs:function(){$(".TutorialVideoThumb a").click(function(){$(".TutVideo").removeClass("ActiveTutorial"),$("#"+$(this).attr("data-tut-id")).addClass("ActiveTutorial"),$(".TutorialVideoThumb").removeClass("TutorialVideoSelected"),$(this).parent().addClass("TutorialVideoSelected")})},initialize:function(){this.bindTabs()}}),VORE.Class.create("VORE.Controls.FeatureTour",VORE.Controls.Control,function(){this.initialize()},{player:Object,navSel:"#TourNavigation",tourNavItemSel:"#TourNavigationContents ul li",modalMatteSel:"#DarkWindowMatte",videoHolderSel:"#TourVideoHolder",videoPadding:100,initialize:function(){this.bindVideoButtons(),this.addEventListeners(),this.initTyper()},addEventListeners:function(){},bindVideoButtons:function(){$("body").on("click",".SeeVideo",this.delegate(this.onSeeVideoButtonClick)),$("body").on("click",this.matteModalSel,this.delegate(this.onMatteClick))},onSeeVideoButtonClick:function(a){var b=$(a.target),c=b.parents(".TourSection").find("iframe");if(!b.attr("data-video-src"))return;return $(this.modalMatteSel).addClass("MatteVisible"),$("body").css("overflow","hidden"),this.loadAndPlayVideo(b.attr("data-video-src")),a.stopPropagation(),a.preventDefault(),!1},videoWidth:function(){return $(window).width()-this.videoPadding*2},videoHeight:function(){return.5625*this.videoWidth()},loadAndPlayVideo:function(a){var b=$(this.videoHolderSel),c,d=this;b.addClass("ActiveVideo"),b.height(this.videoHeight()),b.width(this.videoWidth()),b.css({top:$(window).height()/2-this.videoHeight()/2,left:this.videoPadding}),b.html('<iframe src="'+a+"?api=1"+'" width="'+this.videoWidth()+'" height="'+this.videoHeight()+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'),c=$f(b.find("iframe").get(0)),c.addEvent("ready",function(){c.api("play"),c.addEvent("finish",d.delegate(d.onMatteClick))})},videoFinished:function(){$(this.videoHolderSel).removeClass("ActiveVideo"),$(this.videoHolderSel).html("")},onMatteClick:function(){this.videoFinished(),$(this.modalMatteSel).removeClass("MatteVisible"),$("body").css("overflow","auto")},initTyper:function(){$("[data-typer-targets]").typer()}}),VORE.Class.create("VORE.Controls.TourPoints",VORE.Controls.Control,function(){this.initialize()},{points:[],pointHeight:385,bindScroll:function(){var a=this,b=0;$(window).scroll(function(){clearTimeout(b),b=setTimeout(a.delegate(a.setFocus),200)})},initialize:function(){this.registerPoints(),this.bindScroll()},registerPoints:function(){var a=this;$("#TourPoints .TourSlide").each(function(){a.points.push($(this).offset().top)})},setFocus:function(){var a=$(window).scrollTop(),b=$(window).height(),c;for(c=0;c<this.points.length;c++)a<this.points[c]&&a+b>this.points[c]+this.pointHeight?$("#TourPoints .TourSlide:eq("+c+")").addClass("InFocus"):$("#TourPoints .TourSlide:eq("+c+")").removeClass("InFocus")}}),VORE.Class.create("VORE.Controls.Spiral",VORE.Controls.Control,function(){var a=this;$(document).ready(function(){a.initialize()})},{a:100,animationInterval:25,animationFactor:15e-5,b:20,angle:.5,arms:8.5,centerx:1e3,centery:280,i:0,maxPoints:100,points:[],spiralObjects:["ai-file","arrow-cursor","circle","colors","crop","eraser","eyedropper","healing-tool","hexagon","hollow-arrow-cursor","magic-wand","magnify","paint-bucket","paintbrush","pdf-file","pen","pencil","psd-file","rounded-rect","ruler","save","selection-circular","selection","slice","square","stamp","triangle","type-tool"],performAnimation:function(a,b){var c,d,e,f;this.timeDiff=a-this.lastRan,isNaN(this.timeDiff)&&(this.timeDiff=25);for(c=0;c<this.maxPoints;c++)d=this.angle*c,e=this.centerx+(this.a+this.b*d)*Math.cos(d+this.i),f=this.centery+(this.a+this.b*d)*Math.sin(d+this.i),this.points[c].positionPoint({x:e,y:f,i:c});isNaN(this.timeDiff)||(this.i-=this.animationFactor*this.timeDiff),this.lastRan=Date.now(),b||requestAnimFrame(this.animationCallback)},setupAnimation:function(){var a=this;this.diffs=[],this.startTime=Date.now(),this.animationCallback=this.delegate(this.performAnimation),$.browser.mozilla?this.performAnimation(Date.now(),!0):requestAnimFrame(this.delegate(this.performAnimation))},createPoints:function(){for(var a=0;a<this.maxPoints;a++)this.points.push(new VORE.Controls.SpiralPoint({angle:this.angle,arms:this.arms,i:a,maxPoints:this.maxPoints,specialClassName:this.spiralObjects[Math.floor(Math.random()*this.spiralObjects.length)]}))},initialize:function(){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,25)}}(),this.setCenterPoint(),this.createPoints(),this.setupAnimation()},setCenterPoint:function(){this.centerx=Math.floor($(window).width()/3)*2}}),VORE.Class.create("VORE.Controls.SpiralPoint",VORE.Controls.Control,function(a){this.initialize(a)},{angle:0,maxPoints:0,arms:0,thisPoint:Object,createPoint:function(a){var b=document.createElement("div"),c=document.getElementById("SpiralContainer");b.setAttribute("id","SpiralPoint"+a.i),b.className="SpiralPoint ",b.className+=a.specialClassName,c.appendChild(b)},initialize:function(a){this.angle=a.angle,this.maxPoints=a.maxPoints,this.arms=a.arms,this.createPoint(a),this.thisPoint=document.getElementById("SpiralPoint"+a.i)},positionPoint:function(a){var b=Math.cos(this.angle)*(a.i/this.maxPoints)*360*this.arms;this.thisPoint.style.left=a.x+"px",this.thisPoint.style.top=a.y+"px",this.thisPoint.style.webkitTransform="rotate("+b+"deg)",this.thisPoint.style.MozTransform="rotate("+b+"deg)"}}),VORE.Class.create("VORE.Controls.SupportController",VORE.Controls.Control,function(a){this.config=a,this.initialize()},{initialize:function(){this.initQuestionLinks(),this.openAndScrollToAnswer()},initQuestionLinks:function(){$("article span").click(this.delegate(this.onQuestionClick))},onQuestionClick:function(a){var b=$(a.target);return b.next(".Answer").toggleClass("ActiveAnswer"),!1},openAndScrollToAnswer:function(){var a=document.location.hash.toString().substring(1),b;if(!a)return;b=$("article").dfilter("target",a),b.find("span").trigger("click"),$.smoothScroll({scrollTarget:b})}}),function(a){function b(a){function b(){}return b.prototype=a||this,new b}function d(a,b){return a==1?b.substr(0,b.length-1):""+a+" "+b}function e(a,d){var e=c.locale.currencies[a]=b(c.locale.currency);for(var f in d)e[f]=d[f]}function g(b){var c=a("<select>");for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];c.append("<option value="+d+">"+e+"</option>")}return c}function h(a){a=a||this;if(typeof a=="string")return a.replace(/([a-z])([A-Z])/g,function(a,b,c){return b+"_"+c}).toLowerCase();for(var b in a)!a.hasOwnProperty(b)}function i(b){a("body").append(c.dom.error_dialog)}function j(a){return/^[0-9]+$/.test(a)}function k(a,d){var e=b(c.UserError);throw e.validation=a,e.element=d,e}function l(b){var d=b.element,e=c.locale.errors[b.validation.errorKey],f=b.validation.validator,g=a('<div class="error">');g.text(e),g.appendTo(d.parent()),d.addClass("invalid"),d.bind("change keyup",function(b){f(d)&&(d.removeClass("invalid"),g.remove(),d.unbind(b))})}function m(a,b){var d=!1,e={field:function(a,b,e){return e=Array.prototype.slice.call(arguments,2),n(a,b,e,function(b){d||b.element.focus(),l(b),d=!0;if(c.settings.oneErrorPerForm)throw{stopPulling:!0}})}};try{a(e)}catch(f){if(!f.stopPulling)throw f}d||b()}function n(a,b,d,e){var f=a.find(b+" input");f.length==0&&(f=a.find(b+" select"));if(f.length==0)return undefined;var g=f.val();for(var h=0,i=d.length;h<i;++h){var j=d[h];if(!j.validator(f)){e({element:f,validation:j});if(c.settings.oneErrorPerField)break}}return g}function o(a,b){return{validator:a,errorKey:b||a.defaultErrorKey}}function p(a){var b=a.find(".server_errors");b.removeClass("any").addClass("none"),b.empty()}function q(b,c){var d=b.find(".server_errors");p(b);var e=c.length;if(e){d.removeClass("none").addClass("any");for(var f=0;f<e;++f){var g=a('<div class="error">');g.text(c[f]),d.append(g)}}}function s(a,b,c){(function d(b,c,e){if(!b)return;for(var f in b)if(b.hasOwnProperty(f)&&c.hasOwnProperty(f)){var g=b[f],i=c[f],j=h(f),k=e?e+"."+j:j;if(typeof i=="string"){var l=a.find(i);l.val(g).change()}else typeof i=="object"&&d(g,i,k)}})(b,c)}function t(b,c){c.collectPhone||b.find(".phone").remove(),c.collectCompany||b.find(".company_name").remove(),b.delegate(".placeholder","click",function(){var b=a(this),c=a(this).parent();c.find("input").focus()}),b.delegate("input","change keyup",function(){var b=a(this),c=a(this).parent();b.val().length>0?c.find(".placeholder").hide():c.find(".placeholder").show()}),b.delegate("input","focus",function(){a(this).parent().addClass("focus")}),b.delegate("input","blur",function(){a(this).parent().removeClass("focus")}),b.delegate("input","keydown",function(b){b.keyCode>=48&&b.keyCode<=90&&a(this).parent().find(".placeholder").hide()}),s(b,c,r)}function u(b,c){if(c.distinguishContactFromBillingInfo){var d=b.find(".contact_info .first_name input"),e=b.find(".contact_info .last_name input"),f=d.val(),g=e.val();b.find(".contact_info .first_name input").change(function(){var c=b.find(".billing_info .first_name input");c.val()==f&&c.val(a(this).val()).change(),f=d.val()}),b.find(".contact_info .last_name input").change(function(){var c=b.find(".billing_info .last_name input");c.val()==g&&c.val(a(this).val()).change(),g=e.val()})}else b.find(".billing_info .first_name, .billing_info .last_name").remove()}function v(b,d){function m(b,c){var d=k[b];c=a.trim(c.toUpperCase());if(d.hasOwnProperty(c))return c;for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];if(c==f.toUpperCase())return e}return!1}function n(a,b){var c=f.hasClass("select_mode");if(a=="US"||a=="CA"){if(!c||l!=a){var d=f.find("input").val();if(d!=undefined&&d!=""){b=m(a,d);if(!b)return!1}f.addClass("select_mode"),f.children().detach(),j[a]=j[a]||g(k[a]),f.append(j[a]),b&&f.find("select").val(b)}}else c&&f.empty().append(i).removeClass("select_mode")}function o(a,b){var c=a.val();return!b||b==""?!1:c&&c!=""&&c!="-"?!1:a.val(b).change()}function x(){if(t.val()==r){var b=!1;u.val()>s&&(b=!0),u.find("option").each(function(){a(this).val()<=s?a(this).attr("disabled",!0):(a(this).removeAttr("disabled"),b||(a(this).attr("selected",!0),b=!0))})}else u.find("option").removeAttr("disabled")}var e=b.find(".country select"),f=b.find(".state"),h=f.find("input"),i=f.children(),j={},k=c.states,l=e.val();h.bind("change keyup",function(){n(l)}),e.change(function(){var b=a(this).val();n(b),l=b});if(d.enableGeoIP)a.ajax({url:c.settings.baseURL+"location",dataType:"jsonp",jsonp:"callback",success:function(a){a.country&&(o(e,a.country),n(a.country,a.state))}});else if(c.settings.country){var p=b.find(".country option[value="+c.settings.country+"]");p.length&&p.attr("selected",!0).change()}var q=new Date,r=q.getFullYear(),s=q.getMonth(),t=b.find(".year select"),u=b.find(".month select");for(var v=r;v<=r+10;++v){var w=a('<option name="'+v+'">'+v+"</option>");w.appendTo(t)}t.val(r+1),x(),t.change(x),d.addressRequirement=="none"?b.find(".address").remove():d.addressRequirement=="zip"?(b.find(".address").addClass("only_zip"),b.find(".address1, .address2, .city, .state").remove(),c.settings.VATPercent||b.find(".country").remove()):d.addressRequirement=="zipstreet"?(b.find(".address").addClass("only_zipstreet"),b.find(".city, .state").remove(),c.settings.VATPercent||b.find(".country").remove()):d.addressRequirement=="full"&&b.find(".address").addClass("full");var y=b.find(".accepted_cards");if(d.acceptedCards){var z=d.acceptedCards,A=z.length;for(var v=0;v<A;++v){var B=z[v],C=a('<div class="card '+B+'">'),D=c.knownCards[B];D&&D.name&&C.text(D.name),y.append(C)}}b.find(".card_number input").bind("change keyup",function(){var b=c.detectCardType(a(this).val());b?y.find(".card").each(function(){a(this).toggleClass("match",a(this).hasClass(b)),a(this).toggleClass("no_match",!a(this).hasClass(b))}):y.find(".card").removeClass("match no_match")})}function w(a,b,d,e){b.firstName=e.field(a,".contact_info .first_name",o(c.isNotEmpty)),b.lastName=e.field(a,".contact_info .last_name",o(c.isNotEmpty)),b.companyName=e.field(a,".contact_info .company_name"),b.email=e.field(a,".email",o(c.isNotEmpty),o(c.isValidEmail)),b.code=d.accountCode||d.account&&(d.account.code||d.account.accountCode)}function x(a,b,d,e){b.firstName=e.field(a,".billing_info .first_name",o(c.isNotEmpty)),b.lastName=e.field(a,".billing_info .last_name",o(c.isNotEmpty)),b.number=e.field(a,".card_number",o(c.isNotEmpty),o(c.isValidCC)),b.cvv=e.field(a,".cvv",o(c.isNotEmpty),o(c.isValidCVV)),b.month=e.field(a,".month"),b.year=e.field(a,".year"),b.phone=e.field(a,".phone"),b.address1=e.field(a,".address1",o(c.isNotEmpty)),b.address2=e.field(a,".address2"),b.city=e.field(a,".city",o(c.isNotEmpty)),b.state=e.field(a,".state",o(c.isNotEmptyState)),b.zip=e.field(a,".zip",o(c.isNotEmpty)),b.country=e.field(a,".country",o(c.isNotEmpty))}function y(a,b,d,e){var f=e.field(a,".plan .quantity",o(c.isValidQuantity));b.quantity=f||1}function z(a,b){b.field(a,".accept_tos",o(c.isChecked))}function A(a,b){if(b.termsOfServiceURL||b.privacyPolicyURL){var d=a.find(".accept_tos").html(c.dom.terms_of_service);(!b.termsOfServiceURL||!b.privacyPolicyURL)&&d.find("span.and").remove(),b.termsOfServiceURL?d.find("a.tos_link").attr("href",b.termsOfServiceURL):d.find("a.tos_link").remove(),b.privacyPolicyURL?d.find("a.pp_link").attr("href",b.privacyPolicyURL):d.find("a.pp_link").remove()}else a.find(".accept_tos").remove()}var c={};c.settings={enableGeoIP:!0,acceptedCards:["american_express","discover","mastercard","visa"],oneErrorPerField:!0},c.version="2.1.3",c.dom={},c.Error={toString:function(){return"RecurlyJS Error: "+this.message}},c.raiseError=function(a){var d=b(c.Error);throw d.message=a,d},c.config=function(b){a.extend(!0,c.settings,b);if(!b.baseURL){c.settings.baseURL="https://api.recurly.com/jsonp/";var d=c.settings.subdomain||c.raiseError("company subdomain not configured");c.settings.baseURL+=d+"/"}},(c.Cost=function(a){this._cents=a||0}).prototype={toString:function(){return c.formatCurrency(this.dollars())},cents:function(a){return a===undefined?this._cents:new Cost(a)},dollars:function(a){return a===undefined?this._cents/100:new c.Cost(a*100)},mult:function(a){return new c.Cost(this._cents*a)},add:function(a){return a.cents&&(a=a.cents()),new c.Cost(this._cents+a)},sub:function(a){return a.cents&&(a=a.cents()),new c.Cost(this._cents-a)}},c.Cost.FREE=new c.Cost(0),(c.TimePeriod=function(a,b){this.length=a,this.unit=b}).prototype={toString:function(){return""+d(this.length,this.unit)},toDate:function(){var a=new Date;switch(this.unit){case"month":a.setMonth(a.getMonth()+this.length);break;case"day":a.setDay(a.getDay()+this.length)}return a},clone:function(){return new c.TimePeriod(this.length,this.unit)}},(c.RecurringCost=function(a,b){this.cost=a,this.interval=b}).prototype={toString:function(){return""+this.cost+" every "+this.interval},clone:function(){return new c.TimePeriod(this.length,this.unit)}},c.RecurringCost.FREE=new c.RecurringCost(0,null),(c.RecurringCostStage=function(a,b){this.recurringCost=a,this.duration=b}).prototype={toString:function(){this.recurringCost.toString()+" for "+this.duration.toString()}},c.locale={},c.locale.errors={emptyField:"Required field",missingFullAddress:"Please enter your full address.",invalidEmail:"Invalid",invalidCC:"Invalid",invalidCVV:"Invalid",invalidCoupon:"Invalid",cardDeclined:"Transaction declined",acceptTOS:"Please accept the Terms of Service.",invalidQuantity:"Invalid quantity"},c.locale.currencies={},c.locale.currency={format:"%u%n",separator:".",delimiter:",",precision:2},e("USD",{symbol:"$"}),e("AUD",{symbol:"$"}),e("CAD",{symbol:"$"}),e("EUR",{symbol:"€"}),e("GBP",{symbol:"£"}),e("CZK",{symbol:"K"}),e("DKK",{symbol:"kr"}),e("HUF",{symbol:"Ft"}),e("JPY",{symbol:"¥"}),e("NOK",{symbol:"kr"}),e("NZD",{symbol:"$"}),e("PLN",{symbol:"z"}),e("SGD",{symbol:"$"}),e("SEK",{symbol:"kr"}),e("CHF",{symbol:"Fr"}),e("ZAR",{symbol:"R"}),c.settings.locale=c.locale,c.knownCards={visa:{prefixes:[4],name:"Visa"},mastercard:{prefixes:[51,52,53,54,55],name:"MasterCard"},american_express:{prefixes:[34,37],name:"American Express"},discover:{prefixes:[6011,62,64,65],name:"Discover"},diners_club:{prefixes:[305,36,38],name:"Diners Club"},carte_blanche:{prefixes:[300,301,302,303,304,305]},jcb:{prefixes:[35],name:"JCB"},enroute:{prefixes:[2014,2149],name:"EnRoute"},maestro:{prefixes:[5018,5020,5038,6304,6759,6761],name:"Maestro"},laser:{prefixes:[6304,6706,6771,6709],name:"Laser"}},c.detectCardType=function(a){a=a.replace(/\D/g,"");var b=c.knownCards;for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];for(var f=0,g=e.prefixes.length;f<g;++f)if(e.prefixes.hasOwnProperty(f)){var h=e.prefixes[f];if((new RegExp("^"+h.toString())).test(a))return d}}return!1},c.formatCurrency=function(a,b){function h(a){var b=new RegExp("(-?[0-9]+)([0-9]{3})");while(b.test(a))a=a.replace(b,"$1"+e.delimiter+"$2");return a}if(a<0){a=-a;var d=!0}else var d=!1;b=b||c.settings.currency||c.raiseError("currency not configured");var e=c.locale.currency,f=c.locale.currencies[b],g=a.toFixed(f.precision);e.separator!="."&&(g=g.replace(/\./g,e.separator)),g=h(g);var i=e.format;return i=i.replace(/%u/g,f.symbol),i=i.replace(/%n/g,g),g=i,d&&(g="-"+g),g};var f=["AT","BE","BG","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB"];c.isCountryInEU=function(b){return a.inArray(b,f)!==-1},c.isVATNumberApplicable=function(a,b){return c.settings.VATPercent?(c.settings.country||c.raiseError("you must configure a country for VAT to work"),c.isCountryInEU(c.settings.country)||c.raiseError("you cannot charge VAT outside of the EU"),c.isCountryInEU(a)?!0:!1):!1},c.isVATChargeApplicable=function(a,b){if(!c.isVATNumberApplicable(a))return!1;var d=c.settings.country;return d==a||!b},c.flattenErrors=function(a,b){var d=[],b=b||"";if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return b=="base"?[a]:[""+b+" "+a];for(var e in a)if(a.hasOwnProperty(e)){b=parseInt(e).toString()==e?b:e;var f=c.flattenErrors(a[e],b);for(var g=0,h=f.length;g<h;++g)d.push(f[g])}return d},c.getToken=function(a){var b=a.token||"INVALIDTOKEN";return b},c.postResult=function(b,d,e){var f=c.getToken(d),g=a("<form />").hide();g.attr("action",b).attr("method","POST").attr("enctype","application/x-www-form-urlencoded"),a('<input type="hidden" />').attr({name:"recurly_token",value:f}).appendTo(g),a("body").append(g),g.submit()},c.enforce=function(a){return{enforced:a,hidden:!1,hide:function(){return this.hidden=!0,this}}},c.ajax=function(b){return b.data=a.extend({js_version:c.version},b.data),a.ajax(b)},(c.isValidCC=function(a){var b=a.val();b=b.replace(/\D/g,"");if(b=="")return!1;var c=0,d=0,e=!1;for(var f=b.length-1;f>=0;f--){var g=b.charAt(f),d=parseInt(g,10);e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return c%10==0}).defaultErrorKey="invalidCC",(c.isValidEmail=function(a){var b=a.val();return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(b)}).defaultErrorKey="invalidEmail",(c.isValidCVV=function(a){var b=a.val();return(b.length==3||b.length==4)&&j(b)}).defaultErrorKey="invalidCVV",(c.isNotEmpty=function(a){var b=a.val();if(a.is("select"))if(b=="-"||b=="--")return!1;return!!b}).defaultErrorKey="emptyField",(c.isNotEmptyState=function(a){var b=a.val();if(a.is("select"))if(b=="-"||b=="--")return!1;return!0}).defaultErrorKey="emptyField",(c.isChecked=function(a){return a.is(":checked")}).defaultErrorKey="acceptTOS",(c.isValidQuantity=function(a){return/^[0-9]*$/.test(a.val())}).defaultErrorKey="invalidQuantity",c.Plan={create:b,fromJSON:function(a){var b=this.create();b.name=a.name,b.code=a.plan_code,b.currency=a.currency,b.cost=new c.Cost(a.unit_amount_in_cents),b.displayQuantity=a.display_quantity,b.interval=new c.TimePeriod(a.plan_interval_length,a.plan_interval_unit),a.trial_interval_length&&(b.trial=new c.TimePeriod(a.trial_interval_length,a.trial_interval_unit)),a.setup_fee_in_cents&&(b.setupFee=new c.Cost(a.setup_fee_in_cents)),a.vat_percentage&&(c.settings.VATPercent=parseFloat(a.vat_percentage)),a.merchant_country&&(c.settings.country=a.merchant_country),b.addOns=[];if(a.add_ons)for(var d=a.add_ons.length,e=0;e<d;++e){var f=a.add_ons[e];b.addOns.push(c.AddOn.fromJSON(f))}return b},get:function(b,d,e){a.ajax({url:c.settings.baseURL+"plans/"+b+"?currency="+d,dataType:"jsonp",jsonp:"callback",timeout:1e4,success:function(a){var b=c.Plan.fromJSON(a);e(b)}})},createSubscription:function(){var a=b(c.Subscription);return a.plan=b(this),a.plan.quantity=1,a.addOns=[],a}},c.AddOn={fromJSON:function(a){var d=b(c.AddOn);return d.name=a.name,d.code=a.add_on_code,d.cost=new c.Cost(a.default_unit_amount_in_cents),d.displayQuantity=a.display_quantity,d},toJSON:function(){return{name:this.name,add_on_code:this.code,default_unit_amount_in_cents:this.default_unit_amount_in_cents}}},c.Account={create:b,toJSON:function(){return{first_name:this.firstName,last_name:this.lastName,company_name:this.companyName,account_code:this.code,email:this.email}}},c.BillingInfo={create:b,toJSON:function(){return{first_name:this.firstName,last_name:this.lastName,month:this.
month,year:this.year,number:this.number,verification_value:this.cvv,address1:this.address1,address2:this.address2,city:this.city,state:this.state,zip:this.zip,country:this.country,phone:this.phone,vat_number:this.vatNumber}},save:function(b){var d={billing_info:this.toJSON(),signature:b.signature};b.distinguishContactFromBillingInfo||(d.account={account_code:b.accountCode,first_name:this.firstName,last_name:this.lastName}),c.ajax({url:c.settings.baseURL+"accounts/"+b.accountCode+"/billing_info/update",data:d,dataType:"jsonp",jsonp:"callback",timeout:6e4,success:function(a){a.success&&b.success?b.success(a.success):a.errors&&b.error&&b.error(c.flattenErrors(a.errors))},error:function(){b.error&&b.error(["Unknown error processing transaction. Please try again later."])},complete:b.complete||a.noop})}},c.Subscription={create:b,plan:c.Plan,addOns:[],calculateTotals:function(){var a={stages:{}};a.plan=this.plan.cost.mult(this.plan.quantity),a.allAddOns=new c.Cost(0),a.addOns={};for(var b=this.addOns.length,d=0;d<b;++d){var e=this.addOns[d],f=e.cost.mult(e.quantity);a.addOns[e.code]=f,a.allAddOns=a.allAddOns.add(f)}a.stages.recurring=a.plan.add(a.allAddOns),a.stages.now=a.plan.add(a.allAddOns),this.plan.trial&&(a.stages.now=c.Cost.FREE);if(this.coupon){var g=a.stages.now,h=a.stages.now.discount(this.coupon);a.coupon=h.sub(g),a.stages.now=h}return this.plan.setupFee&&(a.stages.now=a.stages.now.add(this.plan.setupFee)),this.billingInfo&&c.isVATChargeApplicable(this.billingInfo.country,this.billingInfo.vatNumber)&&(a.vat=a.stages.now.mult(c.settings.VATPercent/100),a.stages.now=a.stages.now.add(a.vat)),a},redeemAddOn:function(a){var b=a.createRedemption();return this.addOns.push(b),b},removeAddOn:function(a){for(var b=this.addOns,c=b.length,d=0;d<c;++d)if(b[d].code==a)return b.splice(d,1)},findAddOnByCode:function(a){for(var b=this.addOns.length,c=0;c<b;++c)if(this.addOns[c].code==a)return this.addOns[c];return!1},toJSON:function(){var a={plan_code:this.plan.code,quantity:this.plan.quantity,currency:this.plan.currency,coupon_code:this.coupon?this.coupon.code:undefined,add_ons:[]};for(var b=0,c=this.addOns.length,d=a.add_ons,e=this.addOns;b<c;++b)d.push({add_on_code:e[b].code,quantity:e[b].quantity});return a},save:function(a){var b={subscription:this.toJSON(),account:this.account.toJSON(),billing_info:this.billingInfo.toJSON(),signature:a.signature};c.ajax({url:c.settings.baseURL+"subscribe",data:b,dataType:"jsonp",jsonp:"callback",timeout:6e4,success:function(b){if(b.success&&a.success)a.success(b.success);else if(b.errors&&a.error){var d=b.errors.error_code;delete b.errors.error_code,a.error(c.flattenErrors(b.errors),d)}},error:function(){a.error&&a.error(["Unknown error processing transaction. Please try again later."])},complete:a.complete})}},c.AddOn.createRedemption=function(a){var c=b(this);return c.quantity=a||1,c},c.Coupon={fromJSON:function(a){var d=b(c.Coupon);return a.discount_in_cents?d.discountCost=new c.Cost(-a.discount_in_cents):a.discount_percent&&(d.discountRatio=a.discount_percent/100),d.description=a.description,d},toJSON:function(){}},c.Cost.prototype.discount=function(a){if(a.discountCost)return this.add(a.discountCost);var b=this.sub(this.mult(a.discountRatio));return b.cents()<0?c.Cost.FREE:b},c.Subscription.getCoupon=function(a,b,d){c.settings.baseURL||c.raiseError("Company subdomain not configured");var e=c.settings.currency!==undefined?"?currency="+c.settings.currency:"";return c.ajax({url:c.settings.baseURL+"plans/"+this.plan.code+"/coupons/"+a+e,dataType:"jsonp",jsonp:"callback",timeout:1e4,success:function(e){if(e.valid){var f=c.Coupon.fromJSON(e);f.code=a,b(f)}else d()},error:function(){d()}})},c.Transaction={create:b,save:function(b){var d={account:this.account?this.account.toJSON():undefined,billing_info:this.billingInfo.toJSON(),signature:b.signature};c.ajax({url:c.settings.baseURL+"transactions/create",data:d,dataType:"jsonp",jsonp:"callback",timeout:6e4,success:function(a){a.success&&b.success?b.success(a.success):a.errors&&b.error&&b.error(c.flattenErrors(a.errors))},error:function(){b.error&&b.error(["Unknown error processing transaction. Please try again later."])},complete:b.complete||a.noop})}},c.UserError={};var r={account:{firstName:".contact_info > .full_name > .first_name > input",lastName:".contact_info > .full_name > .last_name > input",email:".contact_info > .email > input",phone:".contact_info > .phone > input",companyName:".contact_info > .company_name > input"},billingInfo:{firstName:".billing_info > .credit_card > .first_name > input",lastName:".billing_info > .credit_card > .last_name > input",address1:".billing_info > .address > .address1 > input",address2:".billing_info > .address > .address2 > input",country:".billing_info > .address > .country > select",city:".billing_info > .address > .city > input",state:".billing_info > .address > .state_zip > .state > input",zip:".billing_info > .address > .state_zip > .zip > input",vatNumber:".billing_info > .vat_number > input",cardNumber:".billing_info  .card_number > input",CVV:".billing_info  .cvv > input"},subscription:{couponCode:".subscription > .coupon > .coupon_code > input"}};c.buildBillingInfoUpdateForm=function(d){var e={addressRequirement:"full",distinguishContactFromBillingInfo:!0};d=a.extend(b(c.settings),e,d),d.accountCode||c.raiseError("accountCode missing"),d.signature||c.raiseError("signature missing");var f=c.BillingInfo.create(),g=a(c.dom.update_billing_info_form);g.find(".billing_info").html(c.dom.billing_info_fields),t(g,d),v(g,d),g.submit(function(a){a.preventDefault(),p(g),g.find(".error").remove(),g.find(".invalid").removeClass("invalid"),m(function(a){x(g,f,d,a)},function(){g.addClass("submitting"),g.find("button.submit").attr("disabled",!0).text("Please Wait"),f.save({signature:d.signature,distinguishContactFromBillingInfo:d.distinguishContactFromBillingInfo,accountCode:d.accountCode,success:function(a){d.successHandler&&d.successHandler(c.getToken(a));if(d.successURL){var b=d.successURL;c.postResult(b,a,d)}},error:function(a){(!d.onError||!d.onError(a))&&q(g,a)},complete:function(){g.removeClass("submitting"),g.find("button.submit").removeAttr("disabled").text("Update")}})})}),d.beforeInject&&d.beforeInject(g.get(0)),a(function(){var b=a(d.target);b.html(g),d.afterInject&&d.afterInject(g.get(0))})},c.buildTransactionForm=function(d){var e={addressRequirement:"full",distinguishContactFromBillingInfo:!0,collectContactInfo:!0};d=a.extend(b(c.settings),e,d),!d.collectContactInfo&&!d.accountCode&&c.raiseError("collectContactInfo is false, but no accountCode provided"),d.signature||c.raiseError("signature missing");var f=c.BillingInfo.create(),g=c.Account.create(),h=c.Transaction.create();h.account=g,h.billingInfo=f,h.currency=d.currency,h.cost=new c.Cost(d.amountInCents);var i=a(c.dom.one_time_transaction_form);i.find(".billing_info").html(c.dom.billing_info_fields),d.collectContactInfo?i.find(".contact_info").html(c.dom.contact_info_fields):i.find(".contact_info").remove(),t(i,d),u(i,d),v(i,d),A(i,d),i.submit(function(a){a.preventDefault(),p(i),i.find(".error").remove(),i.find(".invalid").removeClass("invalid"),m(function(a){w(i,g,d,a),x(i,f,d,a),z(i,a)},function(){i.addClass("submitting"),i.find("button.submit").attr("disabled",!0).text("Please Wait"),h.save({signature:d.signature,accountCode:d.accountCode,success:function(a){d.successHandler&&d.successHandler(c.getToken(a));if(d.successURL){var b=d.successURL;c.postResult(b,a,d)}},error:function(a){(!d.onError||!d.onError(a))&&q(i,a)},complete:function(){i.removeClass("submitting"),i.find("button.submit").removeAttr("disabled").text("Pay")}})})}),d.beforeInject&&d.beforeInject(i.get(0)),a(function(){var b=a(d.target);b.html(i),d.afterInject&&d.afterInject(i.get(0))})},c.buildSubscriptionForm=function(d){function g(b){function i(){var b=e.calculateTotals();f.find(".plan .recurring_cost .cost").text(""+b.plan),f.find(".due_now .cost").text(""+b.stages.now),f.find(".coupon .discount").text(""+(b.coupon||"")),f.find(".vat .cost").text(""+(b.vat||"")),f.find(".add_ons .add_on").each(function(){var c=a(this).data("add_on");if(a(this).hasClass("selected")){var d=b.addOns[c.code];a(this).find(".cost").text("+ "+d)}else a(this).find(".cost").text("+ "+c.cost)})}function u(){var a=s.find("input").val();if(a==t)return;t=a;if(!a){s.removeClass("invalid").removeClass("valid"),s.find(".description").text(""),e.coupon=undefined,i();return}s.addClass("checking"),e.getCoupon(a,function(a){s.removeClass("checking"),e.coupon=a,s.removeClass("invalid").addClass("valid"),s.find(".description").text(a.description),i()},function(){e.coupon=undefined,s.removeClass("checking"),s.removeClass("valid").addClass("invalid"),s.find(".description").text("Not Found"),i()})}function E(){var a=f.find(".country select").val(),b=c.isVATNumberApplicable(a);A.toggleClass("applicable",b),A.toggleClass("inapplicable",!b);var d=D.val(),e=c.isVATChargeApplicable(a,d);v.toggleClass("applicable",e),v.toggleClass("inapplicable",!e)}d.filterPlan&&(b=d.filterPlan(b)||b);var e=b.createSubscription(),g=c.Account.create(),h=c.BillingInfo.create();e.account=g,e.billingInfo=h,d.filterSubscription&&(e=d.filterSubscription(e)||e),b.displayQuantity||f.find(".plan .quantity").remove(),b.setupFee?(f.find(".subscription").addClass("with_setup_fee"),f.find(".plan .setup_fee .cost").text(""+b.setupFee)):f.find(".plan .setup_fee").remove(),b.trial?(f.find(".subscription").addClass("with_trial"),f.find(".plan .free_trial").text("First "+b.trial+" free")):f.find(".plan .free_trial").remove(),f.find(".plan .quantity input").bind("change keyup",function(){e.plan.quantity=parseInt(a(this).val(),10)||1,i()}),f.find(".plan .name").text(b.name),f.find(".plan .recurring_cost .cost").text(""+b.cost),f.find(".plan .recurring_cost .interval").text("every "+b.interval);var j=f.find(".add_ons");if(d.enableAddOns){var k=b.addOns.length;if(k){j.removeClass("none").addClass("any");for(var l=0;l<k;++l){var n=b.addOns[l],o="add_on add_on_"+n.code+(l%2?" even":" odd");l==0&&(o+=" first"),l==k-1&&(o+=" last");var r=a('<div class="'+o+'"><div class="name">'+n.name+'</div><div class="field quantity"><div class="placeholder">Qty</div><input type="text"></div><div class="cost"/></div>');n.displayQuantity||r.find(".quantity").remove(),r.data("add_on",n),r.appendTo(j)}j.delegate(".add_ons .quantity input","change keyup",function(b){var c=a(this).closest(".add_on"),d=c.data("add_on"),f=parseInt(a(this).val(),10)||1;e.findAddOnByCode(d.code).quantity=f,i()}),j.bind("selectstart",function(b){a(b.target).is(".add_on")&&b.preventDefault()}),j.delegate(".add_ons .add_on","click",function(b){if(a(b.target).closest(".quantity").length)return;var c=!a(this).hasClass("selected");a(this).toggleClass("selected",c);var d=a(this).data("add_on");if(c){var f=e.redeemAddOn(d),g=a(this).find(".quantity input");f.quantity=parseInt(g.val(),10)||1,g.focus()}else e.removeAddOn(d.code);i()})}}else j.remove();var s=f.find(".coupon"),t=null;d.enableCoupons?(s.find("input").bind("keyup change",function(a){}),s.find("input").keypress(function(a){a.charCode==13&&(a.preventDefault(),u())}),s.find(".check").click(function(){u()}),s.find("input").blur(function(){s.find(".check").click()})):s.remove();var v=f.find(".vat"),A=f.find(".vat_number"),D=A.find("input");v.find(".title").text("VAT at "+c.settings.VATPercent+"%"),f.find(".country select").change(function(){h.country=a(this).val(),i(),E()}).change(),D.bind("keyup change",function(){h.vatNumber=a(this).val(),i(),E()}),f.submit(function(a){a.preventDefault(),p(f),f.find(".error").remove(),f.find(".invalid").removeClass("invalid"),m(function(a){y(f,e.plan,d,a),w(f,g,d,a),x(f,h,d,a),z(f,a)},function(){f.addClass("submitting"),f.find("button.submit").attr("disabled",!0).text("Please Wait"),e.save({signature:d.signature,success:function(a){d.successHandler&&d.successHandler(c.getToken(a));if(d.successURL){var b=d.successURL;c.postResult(b,a,d)}},error:function(a){(!d.onError||!d.onError(a))&&q(f,a)},complete:function(){f.removeClass("submitting"),f.find("button.submit").removeAttr("disabled").text("Subscribe")}})})}),i(),d.beforeInject&&d.beforeInject(f.get(0)),a(function(){var b=a(d.target);b.html(f),d.afterInject&&d.afterInject(f.get(0))})}var e={enableAddOns:!0,enableCoupons:!0,addressRequirement:"full",distinguishContactFromBillingInfo:!1};d=a.extend(b(c.settings),e,d),d.signature||c.raiseError("signature missing");var f=a(c.dom.subscribe_form);f.find(".contact_info").html(c.dom.contact_info_fields),f.find(".billing_info").html(c.dom.billing_info_fields),d.planCode?c.Plan.get(d.planCode,d.currency,g):d.plan&&g(d.plan),t(f,d),u(f,d),v(f,d),A(f,d)},c.states={},c.states.US={"-":"Select State","--":"------------",AK:"Alaska",AL:"Alabama",AP:"Armed Forces Pacific",AR:"Arkansas",AS:"American Samoa",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"District of Columbia",DE:"Delaware",FL:"Florida",FM:"Federated States of Micronesia",GA:"Georgia",GU:"Guam",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MH:"Marshall Islands",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MP:"Northern Mariana Islands",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",PW:"Palau",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"Virgin Islands",VT:"Vermont",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},c.states.CA={"-":"Select State","--":"------------",AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland",NS:"Nova Scotia",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",NT:"Northwest Territories",YT:"Yukon Territory",AA:"Armed Forces Americas",AE:"Armed Forces Europe, Middle East, &amp; Canada"},c.dom.contact_info_fields='<div class="title">Contact Info</div><div class="full_name"><div class="field first_name"><div class="placeholder">First Name </div><input type="text"/></div><div class="field last_name"><div class="placeholder">Last Name </div><input type="text"/></div></div><div class="field email"><div class="placeholder">Email </div><input type="text"/></div><div class="field phone"><div class="placeholder">Phone Number</div><input type="text"/></div><div class="field company_name"><div class="placeholder">Company/Organization Name</div><input type="text"/></div>',c.dom.billing_info_fields='<div class="title">Billing Info</div><div class="accepted_cards"></div><div class="credit_card"><div class="field first_name"><div class="placeholder">First Name </div><input type="text"/></div><div class="field last_name"><div class="placeholder">Last Name </div><input type="text"/></div><div class="card_cvv"><div class="field card_number"><div class="placeholder">Credit Card Number  </div><input type="text"/></div><div class="field cvv"><div class="placeholder">CVV </div><input type="text"/></div></div><div class="field expires"><div class="title">Expires </div><div class="month"><select><option value="1">01 - January</option><option value="2">02 - February</option><option value="3">03 - March</option><option value="4">04 - April</option><option value="5">05 - May</option><option value="6">06 - June</option><option value="7">07 - July</option><option value="8">08 - August</option><option value="9">09 - September</option><option value="10">10 - October</option><option value="11">11 - November</option><option value="12">12 - December</option></select></div><div class="year"><select></select></div></div></div><div class="address"><div class="field address1"><div class="placeholder">Address</div><input type="text"/></div><div class="field address2"><div class="placeholder">Apt/Suite</div><input type="text"/></div><div class="field city"><div class="placeholder">City</div><input type="text"/></div><div class="state_zip"><div class="field state"><div class="placeholder">State/Province</div><input type="text"/></div><div class="field zip"><div class="placeholder">Zip/Postal</div><input type="text"/></div></div><div class="field country"><select><option value="-">Select Country</option><option value="-">--------------</option><option value="AF">Afghanistan</option><option value="AL">Albania</option><option value="DZ">Algeria</option><option value="AS">American Samoa</option><option value="AD">Andorra</option><option value="AO">Angola</option><option value="AI">Anguilla</option><option value="AQ">Antarctica</option><option value="AG">Antigua and Barbuda</option><option value="AR">Argentina</option><option value="AM">Armenia</option><option value="AW">Aruba</option><option value="AC">Ascension Island</option><option value="AU">Australia</option><option value="AT">Austria</option><option value="AZ">Azerbaijan</option><option value="BS">Bahamas</option><option value="BH">Bahrain</option><option value="BD">Bangladesh</option><option value="BB">Barbados</option><option value="BE">Belgium</option><option value="BZ">Belize</option><option value="BJ">Benin</option><option value="BM">Bermuda</option><option value="BT">Bhutan</option><option value="BO">Bolivia</option><option value="BA">Bosnia and Herzegovina</option><option value="BW">Botswana</option><option value="BV">Bouvet Island</option><option value="BR">Brazil</option><option value="BQ">British Antarctic Territory</option><option value="IO">British Indian Ocean Territory</option><option value="VG">British Virgin Islands</option><option value="BN">Brunei</option><option value="BG">Bulgaria</option><option value="BF">Burkina Faso</option><option value="BI">Burundi</option><option value="KH">Cambodia</option><option value="CM">Cameroon</option><option value="CA">Canada</option><option value="IC">Canary Islands</option><option value="CT">Canton and Enderbury Islands</option><option value="CV">Cape Verde</option><option value="KY">Cayman Islands</option><option value="CF">Central African Republic</option><option value="EA">Ceuta and Melilla</option><option value="TD">Chad</option><option value="CL">Chile</option><option value="CN">China</option><option value="CX">Christmas Island</option><option value="CP">Clipperton Island</option><option value="CC">Cocos [Keeling] Islands</option><option value="CO">Colombia</option><option value="KM">Comoros</option><option value="CD">Congo [DRC]</option><option value="CK">Cook Islands</option><option value="CR">Costa Rica</option><option value="HR">Croatia</option><option value="CU">Cuba</option><option value="CY">Cyprus</option><option value="CZ">Czech Republic</option><option value="DK">Denmark</option><option value="DG">Diego Garcia</option><option value="DJ">Djibouti</option><option value="DM">Dominica</option><option value="DO">Dominican Republic</option><option value="NQ">Dronning Maud Land</option><option value="DD">East Germany</option><option value="TL">East Timor</option><option value="EC">Ecuador</option><option value="EG">Egypt</option><option value="SV">El Salvador</option><option value="EE">Estonia</option><option value="ET">Ethiopia</option><option value="EU">European Union</option><option value="FK">Falkland Islands [Islas Malvinas]</option><option value="FO">Faroe Islands</option><option value="FJ">Fiji</option><option value="FI">Finland</option><option value="FR">France</option><option value="GF">French Guiana</option><option value="PF">French Polynesia</option><option value="TF">French Southern Territories</option><option value="FQ">French Southern and Antarctic Territories</option><option value="GA">Gabon</option><option value="GM">Gambia</option><option value="GE">Georgia</option><option value="DE">Germany</option><option value="GH">Ghana</option><option value="GI">Gibraltar</option><option value="GR">Greece</option><option value="GL">Greenland</option><option value="GD">Grenada</option><option value="GP">Guadeloupe</option><option value="GU">Guam</option><option value="GT">Guatemala</option><option value="GG">Guernsey</option><option value="GW">Guinea-Bissau</option><option value="GY">Guyana</option><option value="HT">Haiti</option><option value="HM">Heard Island and McDonald Islands</option><option value="HN">Honduras</option><option value="HK">Hong Kong</option><option value="HU">Hungary</option><option value="IS">Iceland</option><option value="IN">India</option><option value="ID">Indonesia</option><option value="IE">Ireland</option><option value="IM">Isle of Man</option><option value="IL">Israel</option><option value="IT">Italy</option><option value="JM">Jamaica</option><option value="JP">Japan</option><option value="JE">Jersey</option><option value="JT">Johnston Island</option><option value="JO">Jordan</option><option value="KZ">Kazakhstan</option><option value="KE">Kenya</option><option value="KI">Kiribati</option><option value="KW">Kuwait</option><option value="KG">Kyrgyzstan</option><option value="LA">Laos</option><option value="LV">Latvia</option><option value="LS">Lesotho</option><option value="LY">Libya</option><option value="LI">Liechtenstein</option><option value="LT">Lithuania</option><option value="LU">Luxembourg</option><option value="MO">Macau</option><option value="MK">Macedonia [FYROM]</option><option value="MG">Madagascar</option><option value="MW">Malawi</option><option value="MY">Malaysia</option><option value="MV">Maldives</option><option value="ML">Mali</option><option value="MT">Malta</option><option value="MH">Marshall Islands</option><option value="MQ">Martinique</option><option value="MR">Mauritania</option><option value="MU">Mauritius</option><option value="YT">Mayotte</option><option value="FX">Metropolitan France</option><option value="MX">Mexico</option><option value="FM">Micronesia</option><option value="MI">Midway Islands</option><option value="MD">Moldova</option><option value="MC">Monaco</option><option value="MN">Mongolia</option><option value="ME">Montenegro</option><option value="MS">Montserrat</option><option value="MA">Morocco</option><option value="MZ">Mozambique</option><option value="NA">Namibia</option><option value="NR">Nauru</option><option value="NP">Nepal</option><option value="NL">Netherlands</option><option value="AN">Netherlands Antilles</option><option value="NT">Neutral Zone</option><option value="NC">New Caledonia</option><option value="NZ">New Zealand</option><option value="NI">Nicaragua</option><option value="NE">Niger</option><option value="NG">Nigeria</option><option value="NU">Niue</option><option value="NF">Norfolk Island</option><option value="VD">North Vietnam</option><option value="MP">Northern Mariana Islands</option><option value="NO">Norway</option><option value="OM">Oman</option><option value="QO">Outlying Oceania</option><option value="PC">Pacific Islands Trust Territory</option><option value="PK">Pakistan</option><option value="PW">Palau</option><option value="PS">Palestinian Territories</option><option value="PA">Panama</option><option value="PZ">Panama Canal Zone</option><option value="PY">Paraguay</option><option value="YD">People\'s Democratic Republic of Yemen</option><option value="PE">Peru</option><option value="PH">Philippines</option><option value="PN">Pitcairn Islands</option><option value="PL">Poland</option><option value="PT">Portugal</option><option value="PR">Puerto Rico</option><option value="QA">Qatar</option><option value="RO">Romania</option><option value="RU">Russia</option><option value="RW">Rwanda</option><option value="RE">Réunion</option><option value="BL">Saint Barthélemy</option><option value="SH">Saint Helena</option><option value="KN">Saint Kitts and Nevis</option><option value="LC">Saint Lucia</option><option value="MF">Saint Martin</option><option value="PM">Saint Pierre and Miquelon</option><option value="VC">Saint Vincent and the Grenadines</option><option value="WS">Samoa</option><option value="SM">San Marino</option><option value="SA">Saudi Arabia</option><option value="SN">Senegal</option><option value="RS">Serbia</option><option value="CS">Serbia and Montenegro</option><option value="SC">Seychelles</option><option value="SL">Sierra Leone</option><option value="SG">Singapore</option><option value="SK">Slovakia</option><option value="SI">Slovenia</option><option value="SB">Solomon Islands</option><option value="ZA">South Africa</option><option value="GS">South Georgia and the South Sandwich Islands</option><option value="KR">South Korea</option><option value="ES">Spain</option><option value="LK">Sri Lanka</option><option value="SR">Suriname</option><option value="SJ">Svalbard and Jan Mayen</option><option value="SZ">Swaziland</option><option value="SE">Sweden</option><option value="CH">Switzerland</option><option value="ST">São Tomé and Príncipe</option><option value="TW">Taiwan</option><option value="TJ">Tajikistan</option><option value="TZ">Tanzania</option><option value="TH">Thailand</option><option value="TG">Togo</option><option value="TK">Tokelau</option><option value="TO">Tonga</option><option value="TT">Trinidad and Tobago</option><option value="TA">Tristan da Cunha</option><option value="TN">Tunisia</option><option value="TR">Turkey</option><option value="TM">Turkmenistan</option><option value="TC">Turks and Caicos Islands</option><option value="TV">Tuvalu</option><option value="UM">U.S. Minor Outlying Islands</option><option value="PU">U.S. Miscellaneous Pacific Islands</option><option value="VI">U.S. Virgin Islands</option><option value="UG">Uganda</option><option value="UA">Ukraine</option><option value="AE">United Arab Emirates</option><option value="GB">United Kingdom</option><option value="US">United States</option><option value="UY">Uruguay</option><option value="UZ">Uzbekistan</option><option value="VU">Vanuatu</option><option value="VA">Vatican City</option><option value="VE">Venezuela</option><option value="VN">Vietnam</option><option value="WK">Wake Island</option><option value="WF">Wallis and Futuna</option><option value="EH">Western Sahara</option><option value="YE">Yemen</option><option value="ZM">Zambia</option><option value="AX">Åland Islands</option></select></div></div><div class="field vat_number"><div class="placeholder">VAT Number</div><input type="text"/></div>',c.dom.subscribe_form='<form class="recurly subscribe"><!--[if lt IE 7]><div class="iefail"><div class="chromeframe"><p class="blast">Your browser is not supported by Recurly.js.</p><p><a href="http://browsehappy.com/">Upgrade to a different browser</a></p><p>or</p><p><a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a></p><p>to use this site.</p></div></div><![endif]--><div class="subscription"><div class="plan"><div class="name"></div><div class="field quantity"><div class="placeholder">Qty</div><input type="text"/></div><div class="recurring_cost"><div class="cost"></div><div class="interval"></div></div><div class="free_trial"></div><div class="setup_fee"><div class="title">Setup Fee</div><div class="cost"></div></div></div><div class="add_ons none"></div><div class="coupon"><div class="coupon_code field"><div class="placeholder">Coupon Code</div><input type="text" class="coupon_code"/></div><div class="check"></div><div class="description"></div><div class="discount"></div></div><div class="vat"><div class="title">VAT</div><div class="cost"></div></div></div><div class="due_now"><div class="title">Order Total</div><div class="cost"></div></div><div class="server_errors none"></div><div class="contact_info"></div><div class="billing_info"></div><div class="accept_tos"></div><div class="footer"><button type="submit" class="submit">Subscribe</button></div></form>',c.dom.update_billing_info_form='<form class="recurly update_billing_info"><div class="server_errors none"></div><div class="billing_info"></div><div class="footer"><button type="submit" class="submit">Update</button></div></form>',c.dom.one_time_transaction_form='<form class="recurly update_billing_info"><div class="server_errors none"></div><div class="contact_info"></div><div class="billing_info"></div><div class="accept_tos"></div><div class="footer"><button type="submit" class="submit">Pay</button></div></form>',c.dom.terms_of_service='<input id="tos_check" type="checkbox"/><label id="accept_tos" for="tos_check">I accept the <a target="_blank" class="tos_link">Terms of Service</a><span class="and"> and </span><a target="_blank" class="pp_link">Privacy Policy</a></label>',window.Recurly=c}(jQuery);